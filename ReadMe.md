```markdown
# 照片整理与清理工具使用说明

## 功能概述

该工具主要用于：
1. **半自动整理照片文件**  
   - 将JPG/JPEG和RAW文件分类到独立的子文件夹
   - 自动跳过已存在的文件

2. **智能清理冗余文件**  
   - 删除没有对应RAW文件的JPG照片
   - 清理所有XMP配置文件
   - 安全删除（文件移至回收站）

## 使用方法
### 第一步：运行脚本
```bash
python aFile.py
```

### 第二步：输入目标路径
```
请输入照片文件夹路径: [输入您的照片目录绝对路径]
```

### 第三步：文件整理
- 输入 `y` 确认整理：
  ```
  是否要将文件整理到 JPG/RAW 子文件夹？(y/n): y
  ```
- 脚本会自动创建 `JPG` 和 `RAW` 子文件夹
- 移动过程显示实时统计：
  ```
  整理完成:
   - 移动 JPG 文件: 15 个
   - 移动 RAW 文件: 8 个
   - 跳过重复文件: 2 个
  ```

### 第四步：文件清理
- 自动扫描冗余文件后显示报告：
  ```
  === 清理统计 ===
  检测到 RAW 文件: 8 个
  需删除的冗余 JPG: 3 个
  需删除的 XMP 文件: 2 个
  ```
- 确认删除操作：
  ```
  是否确认移至回收站？(y/n): y
  ```

## 支持格式

### RAW 格式支持
| 扩展名 | 相机品牌         |
|--------|------------------|
| .cr2   | Canon           |
| .nef   | Nikon           |
| .arw   | Sony            |
| .dng   | Adobe Digital   |
| .raf   | Fujifilm        |

*可通过修改代码添加更多格式*

## 功能特性

- **智能匹配检测**  
  通过文件名精确匹配RAW和JPG文件关系

- **安全防护机制**  
  - 删除前二次确认
  - 使用回收站防止误删
  - 跳过重复文件移动

- **详细日志输出**  
  实时显示每个文件操作状态

- **跨平台支持**  
  支持Windows/macOS系统

## 注意事项

1. **路径要求**  
   - 必须使用绝对路径
   - 路径中不要包含中文或特殊字符

2. **文件保留**  
   - 只有同时存在RAW文件的JPG会被保留
   - 所有XMP文件将被无条件清理

3. **系统依赖**  
   - 需要Python 3.6+环境
   - 安装必要依赖：
     ```bash
     pip install send2trash
     ```

4. **数据安全**  
   - 建议先备份重要文件
   - 回收站保留周期取决于系统设置

## 使用示例

```text
📂 照片文件夹
├── 📄 IMG_001.jpg       -> 保留（有对应RAW）
├── 📄 IMG_001.CR2      -> 保留
├── 📄 IMG_002.jpg       -> 删除（无对应RAW）
├── 📄 IMG_003.xmp      -> 删除
└── 📄 风景.nef         -> 保留
```

整理后结构：
```text
📂 照片文件夹
├── 📂 JPG
│   └── 📄 IMG_001.jpg
├── 📂 RAW
│   └── 📄 IMG_001.CR2
└── 📄 风景.nef
```